<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta
			http-equiv="Content-type"
			content="text/html;charset=UTF-8" />
		<link
			rel="preconnect"
			href="https://fonts.googleapis.com" />
		<link
			rel="preconnect"
			href="https://fonts.gstatic.com"
			crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
			rel="stylesheet" />
		<style>
			/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
			/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
			:not(code *) {
				font-family: "Poppins", sans-serif;
			}
            html {
                display: flex;
                justify-content: center;
            }
			body {
				font-family: var(
					--vscode-markdown-font-family,
					-apple-system,
					BlinkMacSystemFont,
					"Segoe WPC",
					"Segoe UI",
					"Ubuntu",
					"Droid Sans",
					sans-serif
				);
				font-size: var(--vscode-markdown-font-size, 14px);
				line-height: var(--vscode-markdown-line-height, 22px);
				word-wrap: break-word;
				color: #3b3b3b;
                position: absolute;
                display: flex;
                justify-content: center;
                width: full;
			}
			.body {
                max-width: 1012px;
			}

			#code-csp-warning {
				position: fixed;
				top: 0;
				right: 0;
				color: white;
				margin: 16px;
				text-align: center;
				font-size: 12px;
				font-family: sans-serif;
				background-color: #444444;
				cursor: pointer;
				padding: 6px;
				box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.25);
			}

			#code-csp-warning:hover {
				text-decoration: none;
				background-color: #007acc;
				box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.25);
			}

			body.scrollBeyondLastLine {
				margin-bottom: calc(100vh - 22px);
			}

			body.showEditorSelection .code-line {
				position: relative;
			}

			body.showEditorSelection .code-active-line:before,
			body.showEditorSelection .code-line:hover:before {
				content: "";
				display: block;
				position: absolute;
				top: 0;
				left: -12px;
				height: 100%;
			}

			body.showEditorSelection li.code-active-line:before,
			body.showEditorSelection li.code-line:hover:before {
				left: -30px;
			}

			.vscode-light.showEditorSelection .code-active-line:before {
				border-left: 3px solid rgba(0, 0, 0, 0.15);
			}

			.vscode-light.showEditorSelection .code-line:hover:before {
				border-left: 3px solid rgba(0, 0, 0, 0.4);
			}

			.vscode-light.showEditorSelection
				.code-line
				.code-line:hover:before {
				border-left: none;
			}

			.vscode-dark.showEditorSelection .code-active-line:before {
				border-left: 3px solid rgba(255, 255, 255, 0.4);
			}

			.vscode-dark.showEditorSelection .code-line:hover:before {
				border-left: 3px solid rgba(255, 255, 255, 0.6);
			}

			.vscode-dark.showEditorSelection
				.code-line
				.code-line:hover:before {
				border-left: none;
			}

			.vscode-high-contrast.showEditorSelection .code-active-line:before {
				border-left: 3px solid rgba(255, 160, 0, 0.7);
			}

			.vscode-high-contrast.showEditorSelection .code-line:hover:before {
				border-left: 3px solid rgba(255, 160, 0, 1);
			}

			.vscode-high-contrast.showEditorSelection
				.code-line
				.code-line:hover:before {
				border-left: none;
			}

			img {
				max-width: 100%;
				max-height: 100%;
				border-radius: 8px;
				filter: drop-shadow(-0 2px 2px rgba(0, 0, 0, 0.07));
			}

			a {
				text-decoration: none;
			}

			a:hover {
				text-decoration: underline;
			}

			a:focus,
			input:focus,
			select:focus,
			textarea:focus {
				outline: 1px solid -webkit-focus-ring-color;
				outline-offset: -1px;
			}

			hr {
				border: 0;
				height: 2px;
				border-bottom: 2px solid;
			}

			h1 {
				padding-bottom: 0.3em;
				line-height: 1.2;
				border-bottom-width: 1px;
				border-bottom-style: solid;
			}

			h1,
			h2,
			h3 {
				font-weight: normal;
			}

			table {
				border-collapse: collapse;
			}

			table > thead > tr > th {
				text-align: left;
				border-bottom: 1px solid;
			}

			table > thead > tr > th,
			table > thead > tr > td,
			table > tbody > tr > th,
			table > tbody > tr > td {
				padding: 5px 10px;
			}

			table > tbody > tr + tr > td {
				border-top: 1px solid;
			}

			td > code {
                word-break: break-all;
            }

			blockquote {
				margin: 0 7px 0 5px;
				padding: 0 16px 0 10px;
				border-left-width: 5px;
				border-left-style: solid;
			}

			code {
				font-family: Menlo, Monaco, Consolas, "Droid Sans Mono",
					"Courier New", monospace, "Droid Sans Fallback";
				font-size: 1em;
				line-height: 1.357em;
			}

			body.wordWrap pre {
				white-space: pre-wrap;
			}

			pre:not(.hljs),
			pre.hljs code > div {
				padding: 16px;
				border-radius: 3px;
				overflow: auto;
			}

			pre code {
				color: var(--vscode-editor-foreground);
				tab-size: 4;
			}

			/** Theming */

			.vscode-light pre {
				background-color: rgba(220, 220, 220, 0.4);
			}

			.vscode-dark pre {
				background-color: rgba(10, 10, 10, 0.4);
			}

			.vscode-high-contrast pre {
				background-color: rgb(0, 0, 0);
			}

			.vscode-high-contrast h1 {
				border-color: rgb(0, 0, 0);
			}

			.vscode-light table > thead > tr > th {
				border-color: rgba(0, 0, 0, 0.69);
			}

			.vscode-dark table > thead > tr > th {
				border-color: rgba(255, 255, 255, 0.69);
			}

			.vscode-light h1,
			.vscode-light hr,
			.vscode-light table > tbody > tr + tr > td {
				border-color: rgba(0, 0, 0, 0.18);
			}

			.vscode-dark h1,
			.vscode-dark hr,
			.vscode-dark table > tbody > tr + tr > td {
				border-color: rgba(255, 255, 255, 0.18);
			}
		</style>

		<style>
			/*

Visual Studio-like style based on original C# coloring by Jason Diamond <jason@diamond.name>

*/
			.hljs {
				background: white;
				color: black;
			}

			.hljs-comment,
			.hljs-quote,
			.hljs-variable {
				color: #008000;
			}

			.hljs-keyword,
			.hljs-selector-tag,
			.hljs-built_in,
			.hljs-name,
			.hljs-tag {
				color: #00f;
			}

			.hljs-string,
			.hljs-title,
			.hljs-section,
			.hljs-attribute,
			.hljs-literal,
			.hljs-template-tag,
			.hljs-template-variable,
			.hljs-type,
			.hljs-addition {
				color: #a31515;
			}

			.hljs-deletion,
			.hljs-selector-attr,
			.hljs-selector-pseudo,
			.hljs-meta {
				color: #2b91af;
			}

			.hljs-doctag {
				color: #808080;
			}

			.hljs-attr {
				color: #f00;
			}

			.hljs-symbol,
			.hljs-bullet,
			.hljs-link {
				color: #00b0e8;
			}

			.hljs-emphasis {
				font-style: italic;
			}

			.hljs-strong {
				font-weight: bold;
			}
		</style>

		<style>
			/*
 * Markdown PDF CSS
 */

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC",
					"Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
			}

			pre {
				background-color: #f8f8f8;
				border: 1px solid #cccccc;
				border-radius: 3px;
				overflow-x: auto;
				white-space: pre-wrap;
				overflow-wrap: break-word;
			}

			pre:not(.hljs) {
				padding: 23px;
				line-height: 19px;
			}

			blockquote {
				background: rgba(127, 127, 127, 0.1);
				border-color: rgba(0, 122, 204, 0.5);
			}

			.emoji {
				height: 1.4em;
			}

			code {
				font-size: 14px;
				line-height: 19px;
			}

			/* for inline code */
			:not(pre):not(.hljs) > code {
				color: #3b3b3b; /* Change the old color so it seems less like an error */
				font-size: inherit;
				background: #e0e0e0;
				border-radius: 4px;
				padding: 1px 2px;
				margin: -1px -2px;
			}

			/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
			.page {
				page-break-after: always;
			}
		</style>

		<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
	</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<div>
<h1 id="mobilne-aplikacije">Mobilne Aplikacije</h1>
<p><strong>Nositelj</strong>: doc. dr. sc. Nikola Tanković<br>
<strong>Izvođač</strong>: dr. sc. Robert Šajina<br>
<strong>Asistent</strong>: mag. inf. Alesandro Žužić</p>
<p><strong>Ustanova</strong>: Sveučilište Jurja Dobrile u Puli, Fakultet informatike u Puli</p>
<p style="float: clear; display: flex; gap: 8px; align-items: center;" class="font-brioni text-sm whitespace-nowrap">
    <img src="../Logo/fipu_logo.svg" style="height: 96px; box-shadow: none !important;" class="mr-4"></img>
    Fakultet informatike u Puli
</p>
<h1 id="3---interakcija-s-elementima-foodtracker">[3] - Interakcija s elementima (FoodTracker)</h1>
<p><strong>Posljednje ažurirano:</strong> 19. studenog 2025.</p>
<h2 id="sadr%C5%BEaj">Sadržaj</h2>
<!-- TOC -->
<ul>
<li><a href="#sadr%C5%BEaj">Sadržaj</a></li>
<li><a href="#dohva%C4%87anje-referenci-ui-elemenata">Dohvaćanje referenci UI elemenata</a></li>
<li><a href="#dodavanje-slu%C5%A1atelja-doga%C4%91aja-event-listener">Dodavanje slušatelja događaja (<em>Event Listener</em>)</a>
<ul>
<li><a href="#logiranje-poruka">Logiranje poruka</a></li>
<li><a href="#toast-poruke">Toast poruke</a></li>
</ul>
</li>
<li><a href="#druge-metode-elementa">Druge metode elementa</a></li>
<li><a href="#foodtracker-zadatak">FoodTracker Zadatak</a>
<ul>
<li><a href="#primjer-rje%C5%A1enja">Primjer rješenja</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="dohva%C4%87anje-referenci-ui-elemenata">Dohvaćanje referenci UI elemenata</h2>
<p>U prošloj skripti smo naučili kako definirati izgled aplikacije pomoću XML datoteka. Dodavali smo različite UI elemente (<em>gumbi, tekstualna polja, liste itd.</em>) u datoteku <code>activity_main.xml</code>. Međutim, samo definiranje izgleda nije dovoljno za interakciju s tim elementima. Potrebno je povezati te elemente s logikom aplikacije u Java ili Kotlin kôdu.</p>
<p>Za interakciju s UI elementima (<em>kao što su gumbi, tekstualna polja, liste itd.</em>), potrebno je dohvatiti njihove reference u kôdu. To se obično radi pomoću metode <code>findViewById()</code>, koja omogućuje pristup elementima definiranim u XML datotekama izgleda (<em>layout</em>).</p>

<div class="page"></div>

<p>Primjer XML definicije gumba s ID atributom:</p>
<pre class="hljs"><code><div>...
<span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
    <span class="hljs-attr">...</span>
    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/my_button"</span>
    <span class="hljs-attr">android:text</span>=<span class="hljs-string">"Klikni me!"</span> /&gt;</span>
...
</div></code></pre>
<p>Primjer dohvaćanja reference na gumb u <code>MainActivity.java</code> unutar <code>onCreate()</code> metode:</p>
<pre class="hljs"><code><div>Button myButton = findViewById(R.id.my_button);
</div></code></pre>
<blockquote>
<p>Potrebno je osigurati da se <code>findViewById()</code> poziva nakon <code>setContentView()</code>, jer se na taj način postavlja sadržaj aktivnosti i omogućuje pristup elementima izgleda.</p>
</blockquote>
<blockquote>
<p>Isto tako treba uvesti odgovarajuću klasu za UI elemente koje koristimo, kao što je <code>import android.widget.Button;</code> za gumb.</p>
</blockquote>
<p>Pa cijeli MainActivity.java može izgledati ovako:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">package</span> hr.fipu.testing;

<span class="hljs-keyword">import</span> android.os.Bundle;
<span class="hljs-keyword">import</span> android.widget.Button;

<span class="hljs-keyword">import</span> androidx.appcompat.app.AppCompatActivity;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        
        Button myButton = findViewById(R.id.my_button);
    }
}
</div></code></pre>
<div class="page"></div>
<h2 id="dodavanje-slu%C5%A1atelja-doga%C4%91aja-event-listener">Dodavanje slušatelja događaja (<em>Event Listener</em>)</h2>
<p>Sada možemo koristiti <code>myButton</code> objekt za postavljanje slušatelja događaja (<em>event listener</em>), kao što je <code>setOnClickListener()</code>, kako bismo definirali što se događa kada korisnik klikne na gumb:</p>
<pre class="hljs"><code><div>myButton.setOnClickListener(v -&gt; {
    <span class="hljs-comment">// Radnja koja se izvršava kada se gumb klikne</span>
    Log.d(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Gumb je kliknut!"</span>);
});
</div></code></pre>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/Interakcija.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Logcat: Gumb je kliknut!</i></p>
</div>
<p>Također možemo koristiti druge metode za interakciju s elementima, kao što su <code>setOnLongClickListener()</code>, <code>setOnFocusChangeListener()</code>, itd., ovisno o vrsti elementa i željenoj interakciji.</p>
<h3 id="logiranje-poruka">Logiranje poruka</h3>
<p>Za ispis poruka u <em>Logcat</em> konzolu, koristi se klasa <code>Log</code>. Ovo je korisno za praćenje događaja i grešaka tijekom razvoja aplikacije.
Primjer ispisivanja poruke u <em>Logcat</em> kada se gumb klikne:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> android.util.Log;
...
myButton.setOnClickListener(v -&gt; {
    Log.d(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Gumb je kliknut!"</span>);
});
</div></code></pre>
<blockquote>
<p>Logcat se nalazi u donjem dijelu Android Studija, a može se otvoriti putem izbornika: <code>View</code> -&gt; <code>Tool Windows</code> -&gt; <code>Logcat</code>.</p>
</blockquote>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/Logcat.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Logcat ikona</i></p>
</div>
<p>Postoje različite razine logiranja:</p>
<ul>
<li><code>Log.v()</code> - Verbose</li>
<li><code>Log.d()</code> - Debug</li>
<li><code>Log.i()</code> - Info</li>
<li><code>Log.w()</code> - Warning</li>
<li><code>Log.e()</code> - Error</li>
</ul>
<p>Primjer korištenja različitih razina logiranja:</p>
<pre class="hljs"><code><div>Log.v(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Ovo je verbose poruka"</span>);
Log.d(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Ovo je debug poruka"</span>);
Log.i(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Ovo je info poruka"</span>);
Log.w(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Ovo je warning poruka"</span>);
Log.e(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Ovo je error poruka"</span>);
</div></code></pre>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/Logs.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Logcat: Razine logiranja</i></p>
</div>
<h3 id="toast-poruke">Toast poruke</h3>
<p>Toast poruke su kratke obavijesti koje se pojavljuju na ekranu kako bi informirale korisnika o nekoj radnji ili događaju. One su korisne za pružanje povratnih informacija bez ometanja korisničkog iskustva.</p>
<p>Za prikazivanje Toast poruke, koristi se metoda <code>Toast.makeText()</code>, koja prima tri argumenta:</p>
<ol>
<li><strong>Kontekst</strong> - obično se koristi <code>this</code> ili <code>getApplicationContext()</code>.</li>
<li><strong>Tekst poruke</strong> - niz znakova koji predstavlja poruku koju želite prikazati.</li>
<li><strong>Trajanje</strong> - može biti <code>Toast.LENGTH_SHORT</code> ili <code>Toast.LENGTH_LONG</code>, ovisno o tome koliko dugo želite da poruka ostane vidljiva.</li>
</ol>
<p>Evo primjera kako prikazati Toast poruku kada se gumb klikne:</p>
<pre class="hljs"><code><div>myButton.setOnClickListener(v -&gt; {
    Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, <span class="hljs-string">"Gumb je kliknut!"</span>, Toast.LENGTH_SHORT).show();
});
</div></code></pre>
<blockquote>
<p>Potrebno je uvesti klasu <code>import android.widget.Toast;</code> za prikazivanje Toast poruka.</p>
</blockquote>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/ButtonInteraction.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Toast</i></p>
</div>
<div class="page"></div>
<h2 id="druge-metode-elementa">Druge metode elementa</h2>
<p>Osim <code>setOnClickListener()</code>, postoje i druge metode za interakciju s UI elementima, ovisno o njihovoj vrsti. Na primjer:</p>
<ul>
<li><strong>EditText</strong>:
<ul>
<li><code>getText()</code> - dohvaća uneseni tekst</li>
<li><code>setText(String text)</code> - postavlja tekst u polje</li>
</ul>
</li>
<li><strong>TextView</strong>:
<ul>
<li><code>setText(String text)</code> - postavlja tekst u prikaz</li>
</ul>
</li>
<li><strong>Button</strong>:
<ul>
<li><code>setEnabled(boolean enabled)</code> - omogućuje ili onemogućuje Gumb</li>
</ul>
</li>
<li><strong>CheckBox</strong>:
<ul>
<li><code>isChecked()</code> - provjerava je li označeno</li>
<li><code>setChecked(boolean checked)</code> - postavlja stanje označenosti</li>
</ul>
</li>
</ul>
<p>Primjer korištenja <code>EditText</code> i <code>TextView</code>:</p>
<pre class="hljs"><code><div>Button myButton = findViewById(R.id.my_button);
EditText inputField = findViewById(R.id.input_field);
TextView displayText = findViewById(R.id.display_text);

myButton.setOnClickListener(v -&gt; {
    String userInput = inputField.getText().toString();
    displayText.setText(userInput);
});
</div></code></pre>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/Pozdrav.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>getText() & setText() metode</i></p>
</div>
<blockquote>
<p>Potrebno je uvesti klase <code>import android.widget.EditText;</code> i <code>import android.widget.TextView;</code> za rad s tim elementima.</p>
</blockquote>
<div class="page"></div>
<p>Potrebno je obratiti pažnju na konverziju tipova podataka prilikom dohvaćanja unosa iz <code>EditText</code>, jer se tekst dohvaća kao <code>String</code>. Ako je potreban broj, potrebno je izvršiti odgovarajuću konverziju, npr. <code>Integer.parseInt()</code> za cijele brojeve.</p>
<p>Primjer konverzije unosa iz <code>EditText</code> u <code>int</code>:</p>
<pre class="hljs"><code><div>EditText numberInput = findViewById(R.id.number_input);
myButton.setOnClickListener(v -&gt; {
    <span class="hljs-keyword">int</span> number = Integer.parseInt(numberInput.getText().toString());
    <span class="hljs-comment">// Daljnja obrada broja</span>
});
</div></code></pre>
<p>U slučaju da korisnik unese neispravan broj ili ostavi polje prazno, može doći do iznimke <code>NumberFormatException</code>. Stoga je preporučljivo dodati provjeru unosa prije konverzije.</p>
<p>Primjer provjere unosa:</p>
<pre class="hljs"><code><div>myButton.setOnClickListener(v -&gt; {
    String inputText = numberInput.getText().toString();
    <span class="hljs-keyword">if</span> (!inputText.isEmpty()) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">int</span> number = Integer.parseInt(inputText);
            <span class="hljs-comment">// Daljnja obrada broja</span>
        } <span class="hljs-keyword">catch</span> (NumberFormatException e) {
            Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, <span class="hljs-string">"Unesite ispravan broj!"</span>, Toast.LENGTH_SHORT).show();
        }
    } <span class="hljs-keyword">else</span> {
        Toast.makeText(MainActivity.<span class="hljs-keyword">this</span>, <span class="hljs-string">"Polje ne smije biti prazno!"</span>, Toast.LENGTH_SHORT).show();
    }
});
</div></code></pre>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/Provjera.png" width="300px" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>NumberFormatException</i></p>
</div>
<div class="page"></div>
<h2 id="foodtracker-zadatak">FoodTracker Zadatak</h2>
<p>Potrebno je napraviti jednostavnu aplikaciju za praćenje kalorija unesenih prehrambenih proizvoda.</p>
<p><strong>1. Model podataka</strong>
Kreirajte novu klasu <code>FoodItem.java</code> koja sadrži:</p>
<ul>
<li>naziv proizvoda (<code>String</code>)</li>
<li>broj kalorija (<code>int</code>)</li>
<li>konstruktor koji postavlja oba podatka</li>
<li>metode <code>getFoodName()</code> i <code>getKalorije()</code></li>
</ul>
<p><strong>2. UI elementi (activity_main.xml)</strong>
U prikaz dodajte:</p>
<ul>
<li>tekstualni unos za naziv (<code>EditText</code>)</li>
<li>numerički unos za kalorije (<code>EditText</code>)</li>
<li>dva gumba: “Dodaj stavku” i “Resetiraj”</li>
<li><code>TextView</code> za prikaz <em>Ukupno kalorija: 0</em></li>
<li><code>TextView</code> za prikaz liste ili poruke <em>Prazna lista...</em></li>
</ul>
<p><strong>3. Klasa FoodTracker</strong>
Napravite novu klasu <code>FoodTracker.java</code> sa sljedećim funkcionalnostima:</p>
<ul>
<li>lista <code>List&lt;FoodItem&gt;</code></li>
<li>metoda <code>addFoodItem()</code> za dodavanje stavke (<em>uz prikaz Toast poruke</em>)</li>
<li>metoda <code>getTotalCalories()</code> za izračun ukupnih kalorija</li>
<li>metoda <code>getFoodItems()</code> za dohvat liste</li>
<li>metoda <code>clearAll()</code> za brisanje svih unosa</li>
</ul>
<p><strong>4. Spajanje UI-a i logike (MainActivity.java)</strong></p>
<ul>
<li>kreirajte objekt <code>FoodTracker</code></li>
<li>dohvatite reference svih UI elemenata pomoću <code>findViewById()</code></li>
<li>na klik gumba <em>Dodaj</em>:
<ul>
<li>pročitajte unos</li>
<li>stvorite novi <code>FoodItem</code></li>
<li>dodajte ga u <code>FoodTracker</code></li>
<li>osvježite prikaz ukupnih kalorija</li>
<li>ispišite listu svih stavki</li>
</ul>
</li>
<li>na klik gumba <em>Resetiraj</em>:
<ul>
<li>obrišite sve stavke</li>
<li>postavite ukupne kalorije na 0</li>
<li>ispraznite prikaz liste</li>
</ul>
</li>
</ul>
<div class="page"></div>
<h3 id="primjer-rje%C5%A1enja">Primjer rješenja</h3>
<p>Napraviti ćemo aplikaciju za praćenje kalorija. Prvo ćemo kreirati novu klasu <code>FoodItem.java</code>:</p>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/NewJavaClass.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Nova Java klasa</i></p>
</div>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/JavaClassName.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Naziv nove klase</i></p>
</div>
<div class="page"></div>
<p>Zatim ćemo dodati sljedeći kôd u klasu:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FoodItem</span> </span>{

    <span class="hljs-keyword">private</span> String FoodName;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> Kalorije;

    FoodItem(String foodName, <span class="hljs-keyword">int</span> kalorije) {
        <span class="hljs-keyword">this</span>.FoodName = foodName;
        <span class="hljs-keyword">this</span>.Kalorije = kalorije;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getFoodName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.FoodName;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getKalorije</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.Kalorije;
    }

}
</div></code></pre>
<p>Klasa <code>FoodItem</code> predstavlja model podataka za prehrambeni proizvod:</p>
<ul>
<li><strong>Atributi:</strong>
<ul>
<li><code>name</code> - naziv prehrambenog proizvoda (tipa <code>String</code>)</li>
<li><code>calories</code> - broj kalorija (tipa <code>int</code>)</li>
</ul>
</li>
<li><strong>Konstruktor:</strong>
<ul>
<li>Prima naziv i broj kalorija te inicijalizira oba atributa</li>
<li>Atributi su označeni kao <code>final</code>, što znači da se mogu postaviti samo jednom - prilikom stvaranja objekta</li>
</ul>
</li>
<li><strong>Metode:</strong>
<ul>
<li><code>getName()</code> vraća naziv proizvoda</li>
<li><code>getCalories()</code> vraća broj kalorija</li>
</ul>
</li>
</ul>
<blockquote>
<p>Ova klasa je <strong>nepromjenjiva (<em>immutable</em>)</strong> jer nakon stvaranja objekta njegovi podaci se više ne mogu mijenjati.</p>
</blockquote>
<p>Zatim ćemo u <code>activity_main.xml</code> dodati dva polja za unos:</p>
<ul>
<li>polje za textualni input - <code>Plain Text</code> <code>&lt;EditText&gt;</code> element</li>
<li>polje za brojčani input - <code>Number</code> <code>&lt;EditText&gt;</code> element</li>
</ul>
<p>Dodat ćemo dva dugma <code>&lt;Button&gt;</code> elementa:</p>
<ul>
<li>jedno s nazivom &quot;Dodaj stavku&quot;</li>
<li>drugo s nazivom &quot;Resetiraj&quot;</li>
</ul>
<p>Dodati text <code>&lt;TextView&gt;</code> elemente &quot;<em>Ukupno kalorija: 0</em>&quot; i &quot;<em>Prazna lista...</em>&quot;.</p>
<div class="page"></div>
<p>Tako da izgleda ovako:</p>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/UI.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Izgled</i></p>
</div>
<div class="page"></div>
<p>Zatim ćemo napraviti novu klasu <code>FoodTracker.java</code> i dodati sljedeći kôd:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FoodTracker</span> </span>{
    <span class="hljs-keyword">private</span> List&lt;FoodItem&gt; foodItems = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addFoodItem</span><span class="hljs-params">(FoodItem foodItem, Context context)</span> </span>{
        foodItems.add(foodItem);
        Toast.makeText(context, (<span class="hljs-string">"Stavka "</span> + foodItem.getFoodName() + <span class="hljs-string">" uspješno dodana"</span>), Toast.LENGTH_SHORT).show();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getTotalCalories</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">int</span> totalCalories = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (FoodItem foodItem : foodItems) {
            totalCalories += foodItem.getKalorije();
        }
        <span class="hljs-keyword">return</span> totalCalories;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;FoodItem&gt; <span class="hljs-title">getFoodItems</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> foodItems;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clearAll</span><span class="hljs-params">()</span> </span>{
        foodItems.clear();
    }

}
</div></code></pre>
<p>Klasa <code>FoodTracker</code> služi za praćenje unosa hrane i zbrajanje ukupnog broja kalorija.</p>
<ul>
<li><strong>Atribut:</strong>
<ul>
<li><code>foodItems</code> - lista objekata tipa <code>FoodItem</code>, u kojoj se pohranjuju svi dodani prehrambeni proizvodi</li>
</ul>
</li>
<li><strong>Metode:</strong>
<ul>
<li><code>addFood(String name, int calories)</code> - dodaje novi prehrambeni proizvod u listu, stvarajući novi objekt klase <code>FoodItem</code></li>
<li><code>getTotalCalories()</code> - prolazi kroz cijelu listu i zbraja kalorije svih proizvoda; vraća ukupni broj kalorija</li>
<li><code>getFoodItems()</code> - vraća cijelu listu prehrambenih proizvoda</li>
<li><code>clearAll()</code> - briše sve proizvode iz liste (prazni praćenje hrane)</li>
</ul>
</li>
</ul>
<div class="page"></div>
<p>U <code>MainActivity.java</code> dodat ćemo objekt <strong>FoodTracker</strong>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{
  <span class="hljs-keyword">private</span> FoodTracker foodTracker;
  ...
}
</div></code></pre>
<p>Sada kada imamo klase trebamo dohvatiti <em>reference</em> na elemente kosriteći njihov <strong>ID</strong> atribut. Pa ćemo dodati sljedeće nakon <code>setContentView()</code> funkcije:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> android.widget.Button;
<span class="hljs-keyword">import</span> android.widget.EditText;
<span class="hljs-keyword">import</span> android.widget.TextView;

...
setContentView(R.layout.activity_main);

foodTracker = <span class="hljs-keyword">new</span> FoodTracker();

TextView textUkupno = findViewById(R.id.ukupno);
TextView textLista = findViewById(R.id.lista);
EditText inputNaziv = findViewById(R.id.inputNaziv);
EditText inputKalorije = findViewById(R.id.inputKalorije);
Button dodaj = findViewById(R.id.btnDodaj);
Button resetiraj = findViewById(R.id.btnResetiraj);
...
</div></code></pre>
<div class="page"></div>
<p>Nakon čega možemo dodati interakciju s elementima:</p>
<pre class="hljs"><code><div>dodaj.setOnClickListener(view -&gt; {
    String naziv = inputNaziv.getText().toString();
    <span class="hljs-keyword">int</span> kalorije = Integer.parseInt(inputKalorije.getText().toString());
    FoodItem noviItem = <span class="hljs-keyword">new</span> FoodItem(naziv, kalorije);
    foodTracker.addFoodItem(noviItem,<span class="hljs-keyword">this</span>);

    <span class="hljs-keyword">int</span> ukupnoKalorija = foodTracker.getTotalCalories();
    textUkupno.setText(<span class="hljs-string">"Ukupno kalorija: "</span> + ukupnoKalorija);

    String stavke = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">for</span> (FoodItem item : foodTracker.getFoodItems()) {
        stavke += item.getFoodName() + <span class="hljs-string">" - "</span> +
                  item.getKalorije() + <span class="hljs-string">" kalorija\n"</span>;
    }
    textLista.setText(stavke);

});

resetiraj.setOnClickListener(view -&gt; {
    foodTracker.clearAll();
    textUkupno.setText(<span class="hljs-string">"Ukupno kalorija: 0"</span>);
    textLista.setText(<span class="hljs-string">""</span>);
});
</div></code></pre>
<div class="page"></div>
<div style="width: fit-content; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: center;">
        <img src="slike/Done.png" style="border: solid 1px lightgray; border-radius: 8px;"/>
    </div>
    <br/>
    <p style="margin-top: -16px; width: 100%; text-align: center;"><i>Primjer</i></p>
</div>
</div>
</body>
</html>
